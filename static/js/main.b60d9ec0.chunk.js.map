{"version":3,"sources":["components/taskEdit.jsx","components/task.jsx","components/task-list.jsx","components/pages.jsx","App.js","index.js"],"names":["TaskEdit","_ref","value","setTasks","tasks","task","setTaskEditHidden","_useState","useState","_useState2","Object","slicedToArray","newValue","setNewValue","react_default","a","createElement","className","type","autoFocus","onChange","_ref3","target","onBlur","onKeyDown","_ref2","key","axios","patch","concat","uuid","name","map","post","Task","remove","taskEditHidden","defaultChecked","done","onClick","catch","err","console","log","onDoubleClick","Date","createdAt","toLocaleDateString","TaskList","Pages","props","pageNumbers","i","pageCount","push","paginate","curPage","id","disabled","number","length","App","taskName","setTaskName","_useState3","_useState4","_useState5","_useState6","tasksCount","setTasksCount","_useState7","_useState8","sort","setSort","_useState9","_useState10","sortByDate","setSortByDate","_useState11","_useState12","setPageCount","_useState13","_useState14","currentPage","setCurrentPage","useEffect","get","then","response","data","count","addNewTask","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","t0","stop","_x","apply","this","arguments","_callee2","pageNumber","url","_context2","sent","_x2","useMemo","Math","ceil","placeholder","delete","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.b60d9ec0.chunk.js","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\"\n\nexport default function TaskEdit({ value, setTasks, tasks, task, setTaskEditHidden }) {\n\n    const [newValue, setNewValue] = useState(value)\n    const handleEdit = ({ key }) => {\n        if (key === 'Enter') {\n            axios.patch(`https://todo-api-learning.herokuapp.com/v1/task/3/${task.uuid}`, {\n                name: newValue\n            });\n            setTasks(tasks.map((post) => {\n                if (post.uuid === task.uuid) {\n                    post.name = newValue;\n                }\n                return post;\n            }))\n            setTaskEditHidden(true);\n        }\n    }\n\n\n    return (\n        <div className=\"task-edit\">\n            <input type=\"text\"\n            autoFocus\n            onChange={({target}) => setNewValue(target.value)} \n            value={newValue}\n            onBlur={() => setTaskEditHidden(true)}\n            onKeyDown={handleEdit}></input>\n        </div>\n    )\n}","import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport TaskEdit from \"./taskEdit\";\r\n\r\nexport default function Task({ task, tasks, remove, setTasks}) {\r\n\r\n    const [taskEditHidden, setTaskEditHidden] = useState(true);\r\n\r\n    const handleCheck = () => {\r\n    axios\r\n      .patch(`https://todo-api-learning.herokuapp.com/v1/task/3/${task.uuid}`, {\r\n        done: !task.done,\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"task\" key={task.uuid}>\r\n      <div className=\"left_side\">\r\n        <input\r\n          type=\"checkbox\"\r\n          defaultChecked={task.done}\r\n          onClick={handleCheck}\r\n        />\r\n        \r\n        {taskEditHidden ? \r\n        <p onDoubleClick={() => setTaskEditHidden(false)}>{task.name}</p> :\r\n        <TaskEdit value={task.name} \r\n        setTasks={setTasks} \r\n        tasks={tasks}\r\n        setTaskEditHidden={setTaskEditHidden}\r\n        task={task}/>}\r\n      </div>\r\n\r\n      <div className=\"right_side\">\r\n        <span>{new Date(task.createdAt).toLocaleDateString()}</span>\r\n        <input\r\n          type=\"button\"\r\n          className=\"trashcan\"\r\n          onClick={() => remove(task)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport Task from './task';\r\n\r\n\r\nexport default function TaskList({tasks, remove, setTasks}) {\r\n\r\n    return (\r\n        <div className='tasks_list'>\r\n            {tasks.map(task =>\r\n                <Task \r\n                 remove={remove}\r\n                 task={task} \r\n                 tasks={tasks}\r\n                 setTasks={setTasks}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}","import React, { useState, useMemo, useEffect } from \"react\";\n\nexport default function Pages(props) {\n  const pageNumbers = [];\n  for (let i = 1; i <= props.pageCount; i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <div className=\"page_number_container\">\n      <button\n        className=\"btn page_number\"\n        onClick={() =>\n          props.paginate(props.curPage - 1)\n        }\n        id=\"<<\"\n        disabled={props.curPage === 1}\n      >\n        {\"<<\"}\n      </button>\n      {pageNumbers.map((number) => (\n        <button\n          className=\"btn page_number\"\n          disabled={props.curPage === number}\n          onClick={() => props.paginate(number)}\n          id={number}\n        >\n          {number}\n        </button>\n      ))}\n      <button\n        className=\"btn page_number\"\n        onClick={() =>\n          props.paginate(props.curPage + 1)\n        }\n        id=\">>\"\n        disabled={\n          pageNumbers.length === 0 || props.curPage === pageNumbers.length\n        }\n      >\n        {\">>\"}\n      </button>\n    </div>\n  );\n}\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport TaskList from \"./components/task-list\";\nimport Pages from \"./components/pages\";\nimport axios, { AxiosError } from \"axios\";\n\nfunction App() {\n  const [taskName, setTaskName] = useState(\"\");\n  const [tasks, setTasks] = useState([]);\n  const [tasksCount, setTasksCount] = useState(0);\n  const [sort, setSort] = useState(\"all\");\n  const [sortByDate, setSortByDate] = useState(\"desc\");\n  const [pageCount, setPageCount] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  useEffect(() => {\n    axios\n      .get(\n        \"https://todo-api-learning.herokuapp.com/v1/tasks/3?filterBy=order=desc&pp=5&page=1\"\n      )\n      .then((response) => {\n        setTasksCount(response.data.count);\n        setTasks(response.data.tasks);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  const addNewTask = async (props) => {\n    if (props.key === \"Enter\" && props.target.value) {\n      setTaskName(\"\");\n      try {\n        await axios.post(\n          \"https://todo-api-learning.herokuapp.com/v1/task/3\",\n          {\n            name: props.target.value,\n            done: false,\n          }\n        );\n        if (sortByDate === 'asc' && tasksCount > 0 && tasksCount % 5 === 0) {\n          paginate(pageCount + 1)\n\n        } else if (sortByDate === 'asc') {\n          paginate(pageCount);\n\n        } else {\n          paginate(1);\n        }\n        \n        \n        setTasksCount(tasksCount + 1);\n      } catch (AxiosError) {\n        console.log(AxiosError, \"probably task with the same name\");\n      }\n    }\n  };\n\n  const paginate = async (pageNumber) => {\n    const url = `https://todo-api-learning.herokuapp.com/v1/tasks/3?filterBy=${\n      sort !== \"all\" ? sort : \"\"\n    }&order=${sortByDate}&pp=5&page=${pageNumber}`;\n\n    const response = await axios.get(url);\n    setTasks(response.data.tasks);\n    setTasksCount(response.data.count);\n    setCurrentPage(pageNumber);\n  };\n\n  useMemo(() => {\n    setPageCount(Math.ceil(tasksCount / 5));\n  }, [tasks]);\n\n  useMemo(() => {\n    switch (sort) {\n      case \"all\":\n        return paginate(1);\n      case \"done\":\n        return paginate(1);\n      case \"undone\":\n        return paginate(1);\n    }\n  }, [sort]);\n\n  useEffect(() => {\n    paginate(1);\n  }, [sortByDate])\n\n  const removeTask = (task) => {\n    axios\n      .delete(`https://todo-api-learning.herokuapp.com/v1/task/3/${task.uuid}`)\n      .then(() => {\n        setTasksCount(tasksCount - 1);\n        return paginate(1);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>ToDo</h1>\n\n      <input\n        className=\"add_task\"\n        type=\"text\"\n        placeholder=\"что бы я хотел сделать...\"\n        value={taskName}\n        onChange={(target) => setTaskName(target.value)}\n        onKeyDown={addNewTask}\n      />\n\n      <div className=\"header_buttons\">\n        <div>\n          <button\n            className=\"btn\"\n            disabled={sort === \"all\"}\n            onClick={() => setSort(\"all\")}\n          >\n            All\n          </button>\n          <button\n            className=\"btn\"\n            disabled={sort === \"done\"}\n            onClick={() => setSort(\"done\")}\n          >\n            Done\n          </button>\n          <button\n            className=\"btn\"\n            disabled={sort === \"undone\"}\n            onClick={() => setSort(\"undone\")}\n          >\n            Undone\n          </button>\n        </div>\n        <div className=\"flex_date_sort\">\n          <span>Sort by date</span>\n          <button\n            className=\"btn arrow_btn\"\n            id=\"↑\"\n            disabled={sortByDate === \"asc\"}\n            onClick={() => {\n              setSortByDate(\"asc\")\n              \n            }}\n          >\n            ↑\n          </button>\n          <button\n            className=\"btn arrow_btn\"\n            id=\"↓\"\n            disabled={sortByDate === \"desc\"}\n            onClick={() => setSortByDate(\"desc\")}\n          >\n            ↓\n          </button>\n        </div>\n      </div>\n\n      <TaskList remove={removeTask} tasks={tasks} setTasks={setTasks}/>\n      <Pages\n        tasksCount={tasksCount}\n        paginate={paginate}\n        curPage={currentPage}\n        pageCount={pageCount}\n        sort={sort}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'))\nroot.render(\n  <App />\n);\n\n"],"sourceRoot":""}