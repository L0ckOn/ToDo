(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(53)},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),s=a.n(r),o=a(5),u=a.n(o),l=a(9),i=a(2),d=a(3),m=a.n(d);function p(e){var t=e.value,a=e.setTasks,r=e.tasks,s=e.task,o=e.setTaskEditHidden,u=Object(n.useState)(t),l=Object(i.a)(u,2),d=l[0],p=l[1];return c.a.createElement("div",{className:"task-edit"},c.a.createElement("input",{type:"text",autoFocus:!0,onChange:function(e){var t=e.target;return p(t.value)},value:d,onBlur:function(){return o(!0)},onKeyDown:function(e){"Enter"===e.key&&(m.a.patch("https://todo-api-learning.herokuapp.com/v1/task/3/".concat(s.uuid),{name:d}),a(r.map(function(e){return e.uuid===s.uuid&&(e.name=d),e})),o(!0))}}))}function b(e){var t=e.task,a=e.tasks,r=e.remove,s=e.setTasks,o=Object(n.useState)(!0),u=Object(i.a)(o,2),l=u[0],d=u[1];return c.a.createElement("div",{className:"task",key:t.uuid},c.a.createElement("div",{className:"left_side"},c.a.createElement("input",{type:"checkbox",defaultChecked:t.done,onClick:function(){m.a.patch("https://todo-api-learning.herokuapp.com/v1/task/3/".concat(t.uuid),{done:!t.done}).catch(function(e){return console.log(e)})}}),l?c.a.createElement("p",{onDoubleClick:function(){return d(!1)}},t.name):c.a.createElement(p,{value:t.name,setTasks:s,tasks:a,setTaskEditHidden:d,task:t})),c.a.createElement("div",{className:"right_side"},c.a.createElement("span",null,new Date(t.createdAt).toLocaleDateString()),c.a.createElement("input",{type:"button",className:"trashcan",onClick:function(){return r(t)}})))}function k(e){var t=e.tasks,a=e.remove,n=e.setTasks;return c.a.createElement("div",{className:"tasks_list"},t.map(function(e){return c.a.createElement(b,{remove:a,task:e,tasks:t,setTasks:n})}))}function f(e){for(var t=[],a=1;a<=e.pageCount;a++)t.push(a);return c.a.createElement("div",{className:"page_number_container"},c.a.createElement("button",{className:"btn page_number",onClick:function(){return e.paginate(e.curPage-1)},id:"<<",disabled:1===e.curPage},"<<"),t.map(function(t){return c.a.createElement("button",{className:"btn page_number",disabled:e.curPage===t,onClick:function(){return e.paginate(t)},id:t},t)}),c.a.createElement("button",{className:"btn page_number",onClick:function(){return e.paginate(e.curPage+1)},id:">>",disabled:0===t.length||e.curPage===t.length},">>"))}var v=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([]),o=Object(i.a)(s,2),d=o[0],p=o[1],b=Object(n.useState)(0),v=Object(i.a)(b,2),h=v[0],g=v[1],E=Object(n.useState)("all"),j=Object(i.a)(E,2),O=j[0],N=j[1],w=Object(n.useState)("desc"),C=Object(i.a)(w,2),y=C[0],_=C[1],x=Object(n.useState)(0),S=Object(i.a)(x,2),T=S[0],D=S[1],P=Object(n.useState)(1),B=Object(i.a)(P,2),A=B[0],M=B[1];Object(n.useEffect)(function(){m.a.get("https://todo-api-learning.herokuapp.com/v1/tasks/3?filterBy=order=desc&pp=5&page=1").then(function(e){g(e.data.count),p(e.data.tasks)}).catch(function(e){return console.log(e)})},[]);var H=function(){var e=Object(l.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||!t.target.value){e.next=12;break}return r(""),e.prev=2,e.next=5,m.a.post("https://todo-api-learning.herokuapp.com/v1/task/3",{name:t.target.value,done:!1});case 5:J("asc"===y&&h>0&&h%5===0?T+1:"asc"===y?T:1),g(h+1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0,"probably task with the same name");case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://todo-api-learning.herokuapp.com/v1/tasks/3?filterBy=".concat("all"!==O?O:"","&order=").concat(y,"&pp=5&page=").concat(t),e.next=3,m.a.get(a);case 3:n=e.sent,p(n.data.tasks),g(n.data.count),M(t);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(n.useMemo)(function(){D(Math.ceil(h/5))},[d]),Object(n.useMemo)(function(){switch(O){case"all":case"done":case"undone":return J(1)}},[O]),Object(n.useEffect)(function(){J(1)},[y]),c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"ToDo"),c.a.createElement("input",{className:"add_task",type:"text",placeholder:"\u0447\u0442\u043e \u0431\u044b \u044f \u0445\u043e\u0442\u0435\u043b \u0441\u0434\u0435\u043b\u0430\u0442\u044c...",value:a,onChange:function(e){return r(e.value)},onKeyDown:H}),c.a.createElement("div",{className:"header_buttons"},c.a.createElement("div",null,c.a.createElement("button",{className:"btn",disabled:"all"===O,onClick:function(){return N("all")}},"All"),c.a.createElement("button",{className:"btn",disabled:"done"===O,onClick:function(){return N("done")}},"Done"),c.a.createElement("button",{className:"btn",disabled:"undone"===O,onClick:function(){return N("undone")}},"Undone")),c.a.createElement("div",{className:"flex_date_sort"},c.a.createElement("span",null,"Sort by date"),c.a.createElement("button",{className:"btn arrow_btn",id:"\u2191",disabled:"asc"===y,onClick:function(){_("asc")}},"\u2191"),c.a.createElement("button",{className:"btn arrow_btn",id:"\u2193",disabled:"desc"===y,onClick:function(){return _("desc")}},"\u2193"))),c.a.createElement(k,{remove:function(e){m.a.delete("https://todo-api-learning.herokuapp.com/v1/task/3/".concat(e.uuid)).then(function(){return g(h-1),J(1)}).catch(function(e){return console.log(e)})},tasks:d,setTasks:p}),c.a.createElement(f,{tasksCount:h,paginate:J,curPage:A,pageCount:T,sort:O}))};s.a.createRoot(document.getElementById("root")).render(c.a.createElement(v,null))}},[[21,2,1]]]);
//# sourceMappingURL=main.b60d9ec0.chunk.js.map